<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css"
    />
    <title>Images List</title>
    <%- include("partials/resetStyles")%>
    <style>
      .cards-container {
        width: 100%;
        margin: 30px 0;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
      }

      .card {
        position: relative;
        width: 90%;
        height: 500px;
        min-width: 300px;
        max-width: 320px;
        margin: 10px;
      }

      .card img {
        width: 100%;
        height: 100%;
        display: block;
        width: 100%;
        border-radius: 8px;
        object-fit: cover;
      }

      .card-body {
        position: absolute;
        bottom: 0;
        width: 100%;
        padding: 8px;
        margin-top: 10px;
        border-radius: 0 0 8px 8px;
        background: linear-gradient(
          0,
          rgba(0, 0, 0, 1),
          rgba(0, 0, 0, 0.9),
          rgba(0, 0, 0, 0.9),
          rgba(0, 0, 0, 0.8),
          rgba(0, 0, 0, 0.7),
          rgba(0, 0, 0, 0.6),
          transparent
        );
      }

      .card-body h2 {
        font-size: 2rem;
        font-weight: 500;
        margin-top: 15px;
        color: #ededd3;
      }

      .card-body p {
        margin-top: 5px;
        font-size: 1.2rem;
        font-weight: 300;
        color: #ededd3;
      }

      .card-body a {
        display: block;
        width: 100%;
        height: 30px;
        margin-top: 5px;
        border-radius: 5px;
        font-size: 1.6rem;
        font-weight: 400;
        display: flex;
        justify-content: center;
        align-items: center;
        background-color: #0da181;
        text-decoration: none;
        color: #ededd3;
      }
    </style>
  </head>
  <body>
    <%- include("partials/navbar")%>

    <div class="cards-container">
      <% images.forEach(function (image) { %>

      <div class="card animated fadeInDown">
        <img src="<%= image.path %>" alt="" />
        <div class="card-body">
          <h2><%= image.title %></h2>
          <p><%= formatDate(image.created_at) %></p>
          <a href="/image/<%= image._id %>">view</a>
        </div>
      </div>

      <% }) %>
    </div>
  </body>
</html>
